import"../chunks/CWj6FrbW.js";import{i as F}from"../chunks/DG-Abp-w.js";import{aP as L,d as j,aK as D,k as V,a6 as H,B as I,ab as O,J as i,F as P,a7 as C,C as c,a8 as p,aa as v,Z as _,ap as m}from"../chunks/Bg51STgC.js";import{l as J,e as B,r as R,s as Z}from"../chunks/CBzpAnEx.js";import{r as A}from"../chunks/GMs3YkXS.js";function q(e,a,o=a){var n=L();J(e,"input",t=>{var s=t?e.defaultValue:e.value;if(s=x(e)?w(s):s,o(s),n&&s!==(s=a())){var r=e.selectionStart,l=e.selectionEnd;e.value=s??"",l!==null&&(e.selectionStart=r,e.selectionEnd=Math.min(l,e.value.length))}}),(V&&e.defaultValue!==e.value||j(a)==null&&e.value)&&o(x(e)?w(e.value):e.value),D(()=>{var t=a();x(e)&&t===w(e.value)||e.type==="date"&&!t&&!e.value||t!==e.value&&(e.value=t??"")})}function x(e){var a=e.type;return a==="number"||a==="range"}function w(e){return e===""?null:+e}const d={_origin:"https://api.emailjs.com"},K=(e,a="https://api.emailjs.com")=>{d._userID=e,d._origin=a},M=(e,a,o)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!a)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!o)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class T{constructor(a){this.status=a.status,this.text=a.responseText}}const k=(e,a,o={})=>new Promise((n,t)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:r})=>{const l=new T(r);l.status===200||l.text==="OK"?n(l):t(l)}),s.addEventListener("error",({target:r})=>{t(new T(r))}),s.open("POST",d._origin+e,!0),Object.keys(o).forEach(r=>{s.setRequestHeader(r,o[r])}),s.send(a)}),N=(e,a,o,n)=>{const t=n||d._userID;return M(t,e,a),k("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:t,service_id:e,template_id:a,template_params:o}),{"Content-type":"application/json"})},Y=e=>{let a;if(typeof e=="string"?a=document.querySelector(e):a=e,!a||a.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return a},z=(e,a,o,n)=>{const t=n||d._userID,s=Y(o);M(t,e,a);const r=new FormData(s);return r.append("lib_version","3.2.0"),r.append("service_id",e),r.append("template_id",a),r.append("user_id",t),k("/api/v1.0/email/send-form",r)},G={init:K,send:N,sendForm:z};var X=I('<article class="prose mx-auto mt-4 px-4"><h3 class="mt-4">Contact T. Sandsworth</h3> <form class="space-y-4"><label for="email" class="block text-sm font-medium">Your Email</label> <div class="relative"><div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"><svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 16" aria-hidden="true"><path d="m10.036 8.278 9.258-7.79A1.979 1.979 0 0 0 18 0H2A1.987 1.987 0 0 0 .641.541l9.395 7.737Z"></path><path d="M11.241 9.817c-.36.275-.801.425-1.255.427-.428 0-.845-.138-1.187-.395L0 2.6V14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2.5l-8.759 7.317Z"></path></svg></div> <input type="email" id="email" name="email" placeholder="name@example.com" required class="w-full pl-10 p-2 border rounded-md focus:outline-none focus:ring"/></div> <label for="message" class="block text-sm font-medium">Your Message</label> <textarea id="message" name="message" rows="4" placeholder="Leave a message..." required class="min-h-[6rem] max-h-[20rem] w-full p-2 border rounded-md focus:outline-none focus:ring"></textarea> <button type="submit" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"> </button></form></article>');function ae(e,a){H(a,!1);let o=_(""),n=_(""),t=_(!1);const s=async u=>{u.preventDefault(),m(t,!0);function S(f){return f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}try{const f=await G.send("service_hiwnrhb","template_nofnalg",{message:S(i(n)),email:S(i(o))},"Brbg4-wnz-oIx-JqG");alert("Message sent!"),m(o,m(n,""))}catch(f){console.error(f),alert("Failed to send message.")}finally{m(t,!1)}};F();var r=X(),l=c(p(r),2),h=c(p(l),2),y=c(p(h),2);A(y),v(h);var b=c(h,4);R(b);var g=c(b,2),E=p(g,!0);v(g),v(l),v(r),O(()=>{g.disabled=i(t),Z(E,i(t)?"Sending...":"Submit")}),q(y,()=>i(o),u=>m(o,u)),q(b,()=>i(n),u=>m(n,u)),B("submit",l,s),P(e,r),C()}export{ae as component};
